
    <!DOCTYPE html>
  <html>
  <head>
      <title>Geolocation</title>
      <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
      <meta charset="utf-8">
      <style>
          html, body, #map-canvas {
              height: 100%;
              margin: 0px;
              padding: 0px
          }
      </style>
      <script src="http://maps.google.com/maps/api/js?key=AIzaSyB3eG1Vt6y54OrKrHgpJnZb66QxQvy0kfM"></script>

      <script>
          // Note: This example requires that you consent to location sharing when
          // prompted by your browser. If you see a blank space instead of the map, this
          // is probably because you have denied permission for location sharing.
          var map;
          function initialize() {
              var mapOptions = {
                  zoom: 20,
                  mapTypeId: google.maps.MapTypeId.SATELLITE
              };
              map = new google.maps.Map(document.getElementById('map-canvas'),
                      mapOptions);
              // Try HTML5 geolocation
              if(navigator.geolocation) {
                  console.log(" obtaining current location");
                  navigator.geolocation.getCurrentPosition(function(position) {
                      var pos = new google.maps.LatLng(position.coords.latitude,
                              position.coords.longitude);
                      var infowindow = new google.maps.InfoWindow({
                          map: map,
                          position: pos,
                          content: 'Your Location was found using HTML5.'
                      });
                      map.setCenter(pos);
                  }, function() {
                      handleNoGeolocation(true);
                  });
              } else {
                  // Browser doesn't support Geolocation
                  handleNoGeolocation(false);
              }
          }
          function handleNoGeolocation(errorFlag) {
              if (errorFlag) {
                  var content = 'Error: The Geolocation service failed.';
              } else {
                  var content = 'Error: Your browser doesn\'t support geolocation.';
              }
              var options = {
                  map: map,
                  position: new google.maps.LatLng(60, 105),
                  content: content
              };
              var infowindow = new google.maps.InfoWindow(options);
              map.setCenter(options.position);
          }
          google.maps.event.addDomListener(window, 'load', initialize);
      </script>
  </head>
  <body>

      <div id="map-canvas">
          <h1>Your location is:</h1>
      </div>

  </body>
  </html>
